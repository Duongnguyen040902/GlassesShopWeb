@model Group4_GlassesShop.Models.DataModel.Feedback

@{
	ViewData["Title"] = "Accounts Manager";
	Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}
@using Microsoft.AspNetCore.Mvc.Rendering
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
	var cus = Model.Customer;

}

<div class="">
	<div class=""></div>
	<div class="row">
		<div class="col-6">
			<h3>Feedback</h3>
		</div>
		<div class="col-6 d-flex justify-content-end">
			@if (Model.IsApproved.ToString() == "False")
			{
				<a class="btn btn-success" asp-action="Unblock" asp-route-id="@Model.FeedbackId" onclick="return confirm('Are you sure you want to unblock this feedback?')">Unblock</a>
			}
			else
			{
				<a class="btn btn-danger" asp-action="Block" asp-route-id="@Model.FeedbackId" onclick="return confirm('Are you sure you want to block this feedback?')">Block</a>
			}
		</div>
	</div>
	<div class="row mt-2 bg-white p-4 border">
		<div class="col-6">
			@Html.DisplayNameFor(model => model.FeedbackId)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.FeedbackId)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Content)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Content)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Rating)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Rating) Stars
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.IsApproved)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.IsApproved)
		</div>
	</div>
	<div class="row mt-2">
		<div class="col-12">
			<h3>Customer</h3>
		</div>
	</div>
	<div class="row mt-2 bg-white p-4 border">
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Customer.AvatarUrl)
		</div>
		<div class="col-6">
			<img src="@Model.Customer.AvatarUrl" alt="Avatar" class="img-fluid" style="width: 100px; height: 100px; object-fit: cover;" />
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Customer.CustomerId)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Customer.CustomerId)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Customer.Name)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Customer.Name)
		</div>
	</div>

	<div class="row mt-2">
		<div class="col-12">
			<h3>Product</h3>
		</div>
	</div>
	<div class="row mt-2 bg-white p-4 border">
		<div class="col-6">
			Product Image
		</div>
		<div class="col-6">
			<img src="@Model.Product.Images.ToList()[0].ImageUrl" alt="Avatar" class="img-fluid" style="width: 100px; height: 100px; object-fit: cover;" />
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Product.Pid)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Product.Pid)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Product.ProducctName)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Product.ProducctName)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Product.Price)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Product.Price)
		</div>
		<div class="col-6">
			@Html.DisplayNameFor(model => model.Product.Brand.Bname)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Product.Brand.Bname)
		</div>

		<div class="col-6">
			@Html.DisplayNameFor(model => model.Product.Category.Cname)
		</div>
		<div class="col-6">
			@Html.DisplayFor(model => model.Product.Category.Cname)
		</div>
	</div>

</div>
<div class="mt-4">
	<a asp-action="Index">Back to List</a>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>
	// read query from url
	var url_string = window.location.href;
	var url = new URL(url_string);
	var message = url.searchParams.get("message");
	if (message) {
		Toastify({ text: message, }).showToast();
	}
</script>